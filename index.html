<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">
    <link rel="icon" href="mifoto.jpg" type="image/x-icon">
    <title>Para Mamur</title>
    <style>
        /* Ajustes m√°gicos para que se vea bien en celular */
        body {
            overflow-x: hidden; /* Evita que la pantalla se mueva a los lados */
        }

        #mensaje-final {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
        }

        #texto-escritura {
            font-size: 1.5rem; /* Letra un poco m√°s peque√±a */
            line-height: 1.4;
            max-width: 90%;
            margin: 0 auto;
            text-align: center;
        }

        #foto-grande {
            max-width: 90% !important; /* La foto no se sale de la pantalla */
            height: auto !important;
            display: block;
            margin: 0 auto;
        }

        #foto-final-container {
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        /* Si es un celular muy peque√±o, achicamos un poco m√°s la letra */
        @media (max-width: 480px) {
            #texto-escritura {
                font-size: 1.2rem; 
            }
            .texto-sticker {
                font-size: 1.5rem !important;
            }
        }
    </style>
</head>
<body>
    
    <div class="falling-petals">
        <span class="p-drop">üå∏</span>
        <span class="p-drop">‚ù§Ô∏è</span>
        <span class="p-drop">ü©∑</span>
        <span class="p-drop">‚ù§Ô∏è</span>
        <span class="p-drop">üå∏</span>
        <span class="p-drop">‚ù§Ô∏è</span>
        <span class="p-drop">ü©∑</span>
        <span class="p-drop">üå∏</span>
        <span class="p-drop">‚ù§Ô∏è</span>
        <span class="p-drop">ü©∑</span>
        <span class="p-drop">üå∏</span>
    </div>

    <div class="container">
    <div class="flower">
        <div class="petal p1"></div>
        <div class="petal p2"></div>
        <div class="petal p3"></div>
        <div class="petal p4"></div>
        <div class="petal p5"></div>
        <div class="petal p6"></div>
        <div class="petal p7"></div>
        <div class="center"></div>
    </div>

    <button id="btn-entrada" class="btn-entrada">Entra aqu√≠</button>
</div>
<audio id="mi-cancion">
    <source src="ilove.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>
<div id="mensaje-final" class="mensaje-oculto">
    <h1 id="texto-escritura"></h1>
</div>
<div id="contenedor-fotos-pequenas"></div>

<div id="foto-final-container" style="display:none;">
    <h2 class="texto-sticker arriba">¬°Feliz D√≠a Mamur!</h2>
    <img id="foto-grande" src="collage.png" alt="Nuestro Collage">
    <h2 class="texto-sticker abajo">Te amo tres galaxiasüíò</h2>
</div>
    <script>
document.getElementById('btn-entrada').addEventListener('click', function() {
    const musica = document.getElementById('mi-cancion');
    const container = document.querySelector('.container');
    const mensajeFinal = document.getElementById('mensaje-final');
    const elementoDestino = document.getElementById('texto-escritura');
    
    if (musica) musica.play();
    
    container.classList.add('fade-out');
    this.classList.add('fade-out');

    setTimeout(() => {
        container.style.display = 'none';
        this.style.display = 'none';
        document.body.classList.add('fondo-estrellado'); 
        mensajeFinal.style.display = 'flex'; 
        
        setTimeout(() => {
            mensajeFinal.classList.add('mostrar'); 
        }, 100);

        soltarFotosPequenas();
        empezarLetra();
    }, 2000);

    const textoParaEscribir = "A veces me cuesta recordar c√≥mo eran aquellos d√≠as sin que estuvieras, por el simple hecho de que ahora contigo todo es m√°s bonito. \n\ Haces que los momentos se vuelvan un hermoso recuerdo.\n\ Aprecio cada detalle que ten√©s conmigo, del mismo modo que admiro cada detalle que existe en vos‚Ä¶ \n\ especialmente esos lunares que nos hacen ser uno. ";
    let i = 0;

    function empezarLetra() {
    if (i < textoParaEscribir.length) {
        let letra = textoParaEscribir.charAt(i);
        if (letra === "\n") {
            elementoDestino.innerHTML += "<br>";
        } else {
            elementoDestino.innerHTML += `<span class="letra-suave">${letra}</span>`;
        }
        i++;
        setTimeout(empezarLetra, 80);
    } else {
        setTimeout(revelarFotoFinal, 5000);
    }
}

    function soltarFotosPequenas() {
    const fotos = ['foto1.jpg', 'foto2.jpg', 'foto3.jpg', 'foto4.jpg', 'foto5.jpg']; 
    const contenedor = document.getElementById('contenedor-fotos-pequenas');
    const posicionesX = ['5%', '25%', '45%', '65%', '85%'];
    const posicionesY = ['65%', '20%', '50%', '15%', '70%'];

    fotos.forEach((src, index) => {
        setTimeout(() => {
            const img = document.createElement('img');
            img.src = src;
            img.className = 'foto-corazon';
            img.style.left = posicionesX[index % posicionesX.length];
            img.style.setProperty('--final-y', posicionesY[index % posicionesY.length]);
            contenedor.appendChild(img);
        }, index * 1000);
    });
}
function revelarFotoFinal() {
    mensajeFinal.classList.remove('mostrar');
    mensajeFinal.classList.add('ocultar');
    
    const fotosPeque = document.getElementById('contenedor-fotos-pequenas');
    if(fotosPeque) fotosPeque.classList.add('fade-out');

    setTimeout(() => {
        mensajeFinal.style.display = 'none';
        const containerFoto = document.getElementById('foto-final-container');
        const fotoGrande = document.getElementById('foto-grande');
        
        if(containerFoto) {
            containerFoto.style.display = 'flex'; 
            setTimeout(() => {
                if(fotoGrande) fotoGrande.classList.add('mostrar-foto-grande');
                
                setTimeout(() => {
                    const textoArriba = document.querySelector('.texto-sticker.arriba');
                    if(textoArriba) textoArriba.classList.add('revelar-texto');
                }, 1500); 

                setTimeout(() => {
                    const textoAbajo = document.querySelector('.texto-sticker.abajo');
                    if(textoAbajo) textoAbajo.classList.add('revelar-texto');
                }, 3500); 

                setTimeout(() => {
                    const btn = document.getElementById('btn-reinicio');
                    if(btn) btn.classList.add('mostrar-btn');
                }, 5500); 
            }, 100);
        }
    }, 1500); 
}
});
</script>
<button id="btn-reinicio" onclick="location.reload()" style="position: fixed; bottom: 10px; right: 10px;">
    &#x21BB; </button>
</body>
</html>
