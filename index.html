<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <link rel="stylesheet" href="./style.css">
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,600&display=swap" rel="stylesheet">
Â  Â  <link rel="icon" href="mifoto.jpg" type="image/x-icon">
Â  Â  <title>Para Mamur</title>
</head>
<body>
Â  Â Â 
Â  Â  <div class="falling-petals">
Â  Â  Â  Â  <span class="p-drop">ğŸŒ¸</span>
Â  Â  Â  Â  <span class="p-drop">â¤ï¸</span>
Â  Â  Â  Â  <span class="p-drop">ğŸ©·</span>
Â  Â  Â  Â  <span class="p-drop">â¤ï¸</span>
Â  Â  Â  Â  <span class="p-drop">ğŸŒ¸</span>
Â  Â  Â  Â  <span class="p-drop">â¤ï¸</span>
Â  Â  Â  Â  <span class="p-drop">ğŸ©·</span>
Â  Â  Â  Â  <span class="p-drop">ğŸŒ¸</span>
Â  Â  Â  Â  <span class="p-drop">â¤ï¸</span>
Â  Â  Â  Â  <span class="p-drop">ğŸ©·</span>
Â  Â  Â  Â  <span class="p-drop">ğŸŒ¸</span>
Â  Â  </div>

Â  Â  <div class="container">
Â  Â  <div class="flower">
Â  Â  Â  Â  <div class="petal p1"></div>
Â  Â  Â  Â  <div class="petal p2"></div>
Â  Â  Â  Â  <div class="petal p3"></div>
Â  Â  Â  Â  <div class="petal p4"></div>
Â  Â  Â  Â  <div class="petal p5"></div>
Â  Â  Â  Â  <div class="petal p6"></div>
Â  Â  Â  Â  <div class="petal p7"></div>
Â  Â  Â  Â  <div class="center"></div>
Â  Â  </div>

Â  Â  <button id="btn-entrada" class="btn-entrada">Entra aquÃ­</button>
</div>
<audio id="mi-cancion">
Â  Â  <source src="ilove.mp3" type="audio/mpeg">
Â  Â  Tu navegador no soporta el elemento de audio.
</audio>
<div id="mensaje-final" class="mensaje-oculto">
Â  Â  <h1 id="texto-escritura"></h1>
</div>
<div id="contenedor-fotos-pequenas"></div>

<div id="foto-final-container">
Â  Â  <h2 class="texto-sticker arriba">Â¡Feliz DÃ­a Mamur!</h2>
Â  Â  <img id="foto-grande" src="collage.png" alt="Nuestro Collage">
Â  Â  <h2 class="texto-sticker abajo">Te amo tres galaxiasğŸ’˜</h2>
</div>
Â  Â  <script>
document.getElementById('btn-entrada').addEventListener('click', function() {
Â  Â  const musica = document.getElementById('mi-cancion');
Â  Â  const container = document.querySelector('.container');
Â  Â  const mensajeFinal = document.getElementById('mensaje-final');
Â  Â  const elementoDestino = document.getElementById('texto-escritura');
Â  Â Â 
Â  Â  // Reproducir mÃºsica
Â  Â  if (musica) musica.play();
Â  Â Â 
Â  Â  // Desvanecer flor y botÃ³n inicial
Â  Â  container.classList.add('fade-out');
Â  Â  this.classList.add('fade-out');

Â  Â  setTimeout(() => {
Â  Â  Â  Â  container.style.display = 'none';
Â  Â  Â  Â  this.style.display = 'none';
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Activar estrellas y mostrar contenedor de mensaje
Â  Â  Â  Â  document.body.classList.add('fondo-estrellado');Â 
Â  Â  Â  Â  mensajeFinal.style.display = 'block'; // Lo ponemos en el mapa
Â  Â  Â  Â Â 
Â  Â  Â  Â  // PequeÃ±o delay para que la opacidad funcione
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  mensajeFinal.classList.add('mostrar');Â 
Â  Â  Â  Â  }, 100);

Â  Â  Â  Â  soltarFotosPequenas();
Â  Â  Â  Â  empezarLetra();
Â  Â  }, 2000);

Â  Â  const textoParaEscribir = "A veces me cuesta recordar cÃ³mo eran aquellos dÃ­as sin que estuvieras, por el simple hecho de que ahora contigo todo es mÃ¡s bonito. \n\ Haces que los momentos se vuelvan un hermoso recuerdo.\n\ Aprecio cada detalle que tenÃ©s conmigo, del mismo modo que admiro cada detalle que existe en vosâ€¦ \n\ especialmente esos lunares que nos hacen ser uno. ";
Â  Â  let i = 0;

Â  Â  function empezarLetra() {
Â  Â  if (i < textoParaEscribir.length) {
Â  Â  Â  Â  let letra = textoParaEscribir.charAt(i);
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Si es un salto de lÃ­nea, ponemos el <br>, si no, envolvemos la letra
Â  Â  Â  Â  if (letra === "\n") {
Â  Â  Â  Â  Â  Â  elementoDestino.innerHTML += "<br>";
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // AquÃ­ le ponemos la clase 'letra-suave' para que fluya
Â  Â  Â  Â  Â  Â  elementoDestino.innerHTML += `<span class="letra-suave">${letra}</span>`;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  i++;

Â  Â  Â  Â  // Ajustamos la velocidad (80ms es un buen ritmo)
Â  Â  Â  Â  let velocidad = 80;Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // // Si hay una coma o punto, esperamos un poco mÃ¡s para que se sienta real
Â  Â  Â  Â  // if (letra === "," || letra === ".") {
Â  Â  Â  Â  //Â  Â  Â velocidad = 450;
Â  Â  Â  Â  // }

Â  Â  Â  Â  setTimeout(empezarLetra, velocidad);
Â  Â  } else {
Â  Â  Â  Â  // Cuando termina todo el mensaje, esperamos 5 segundos y mostramos la foto
Â  Â  Â  Â  setTimeout(revelarFotoFinal, 5000);
Â  Â  }
}

Â  Â  function soltarFotosPequenas() {
Â  Â  const fotos = ['foto1.jpg', 'foto2.jpg', 'foto3.jpg', 'foto4.jpg', 'foto5.jpg'];Â 
Â  Â  const contenedor = document.getElementById('contenedor-fotos-pequenas');
Â  Â Â 
Â  Â  // Definimos "zonas" horizontales para que no se amontonen
Â  Â  // Foto 1: Izquierda, Foto 2: Centro-Izquierda, Foto 3: Centro, etc.
Â  Â  const posicionesX = ['5%', '25%', '45%', '65%', '85%'];
Â  Â  // Alturas variadas para que no parezcan una lÃ­nea recta
Â  Â  const posicionesY = ['65%', '20%', '50%', '15%', '70%'];

Â  Â  fotos.forEach((src, index) => {
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  const img = document.createElement('img');
Â  Â  Â  Â  Â  Â  img.src = src;
Â  Â  Â  Â  Â  Â  img.className = 'foto-corazon';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Asignamos la posiciÃ³n basada en el orden de la foto
Â  Â  Â  Â  Â  Â  // Si tienes mÃ¡s de 5 fotos, el "%" vuelve a empezar para no dar error
Â  Â  Â  Â  Â  Â  img.style.left = posicionesX[index % posicionesX.length];
Â  Â  Â  Â  Â  Â  img.style.setProperty('--final-y', posicionesY[index % posicionesY.length]);

Â  Â  Â  Â  Â  Â  contenedor.appendChild(img);
Â  Â  Â  Â  }, index * 1000);
Â  Â  });
}
function revelarFotoFinal() {
Â  Â  // 1. TRANSICIÃ“N DE SALIDA: El texto de la carta se desvanece
Â  Â  mensajeFinal.classList.remove('mostrar');
Â  Â  mensajeFinal.classList.add('ocultar');
Â  Â Â 
Â  Â  // 2. Desvanecemos tambiÃ©n las fotos pequeÃ±as
Â  Â  const fotosPeque = document.getElementById('contenedor-fotos-pequenas');
Â  Â  if(fotosPeque) fotosPeque.classList.add('fade-out');

Â  Â  // 3. Esperamos a que el texto desaparezca para mostrar el sticker
Â  Â  setTimeout(() => {
Â  Â  Â  Â  mensajeFinal.style.display = 'none';
Â  Â  Â  Â Â 
Â  Â  Â  Â  const containerFoto = document.getElementById('foto-final-container');
Â  Â  Â  Â  const fotoGrande = document.getElementById('foto-grande');
Â  Â  Â  Â Â 
Â  Â  Â  Â  if(containerFoto) {
Â  Â  Â  Â  Â  Â  containerFoto.style.display = 'flex';Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  // --- PASO 1: Aparece el sticker (crece) ---
Â  Â  Â  Â  Â  Â  Â  Â  if(fotoGrande) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fotoGrande.classList.add('mostrar-foto-grande');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // --- PASO 2: Aparece texto de ARRIBA (lento, a los 1.5s) ---
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const textoArriba = document.querySelector('.texto-sticker.arriba');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(textoArriba) textoArriba.classList.add('revelar-texto');
Â  Â  Â  Â  Â  Â  Â  Â  }, 1500);Â 

Â  Â  Â  Â  Â  Â  Â  Â  // --- PASO 3: Aparece texto de ABAJO (lento, a los 3.5s) ---
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const textoAbajo = document.querySelector('.texto-sticker.abajo');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(textoAbajo) textoAbajo.classList.add('revelar-texto');
Â  Â  Â  Â  Â  Â  Â  Â  }, 3500);Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // --- PASO 4: Aparece el BOTÃ“N DE REINICIO (a los 5.5s) ---
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const btn = document.getElementById('btn-reinicio');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(btn) btn.classList.add('mostrar-btn');
Â  Â  Â  Â  Â  Â  Â  Â  }, 5500);Â 

Â  Â  Â  Â  Â  Â  }, 100);
Â  Â  Â  Â  }
Â  Â  }, 1500);Â 
}
}); // <--- MantÃ©n este cierre para que no se rompa el primer botÃ³n
</script>
<button id="btn-reinicio" onclick="location.reload()">
Â  Â  &#x21BB; </button>
</body>
</html>




